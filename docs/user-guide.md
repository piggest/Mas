---
title: ユーザーガイド
layout: default
permalink: /user-guide/
---

# Mas ユーザーガイド

<p align="center">まるでマスですくうように<br>簡単に正確にスクリーンショットを作成します</p>

**Mas**（Mac Area Screenshot）は、macOS向けのスクリーンショット撮影・編集アプリです。
キャプチャからアノテーション、GIF録画、テキスト認識まで、スクリーンショットに必要な機能をコンパクトにまとめています。

---

## インストール

1. [Releases](https://github.com/piggest/Mas/releases) から最新の `Mas-x.x.x.dmg` をダウンロード
2. DMGを開いて `Mas.app` を `/Applications` フォルダにドラッグ&ドロップ
3. 初回起動時に「開発元が未確認」の警告が出た場合は、システム設定 → プライバシーとセキュリティ → 「このまま開く」をクリック
4. 画面収録の権限を許可してください

### システム要件

- macOS 13.0（Ventura）以上
- 画面収録の権限

---

## はじめに

Masはメニューバーに常駐するアプリです。

**一番シンプルな使い方：メニューバーのMasアイコンをダブルクリック**するだけ。

1. ダブルクリックすると範囲選択モードに入ります
2. ドラッグで撮りたい範囲を選択すると、そのまま切り取られます
3. エディターウィンドウが開くので、必要に応じて編集ツールで注釈を入れられます

![エディター](../images/editor.png)

---

## キャプチャ

| 方法 | 操作 | ショートカット |
|------|------|--------------|
| **全画面** | メニュー →「全画面」 | `⌘⇧3` |
| **範囲選択** | メニュー →「範囲選択」またはアイコンをダブルクリック | `⌘⇧4` |
| **キャプチャ枠** | メニュー →「キャプチャ枠を表示」（前回の範囲を枠で表示 → 調整 → キャプチャ） | `⌘⇧6` |
| **GIF録画** | メニュー →「GIF録画」 | `⌘⇧7` |
| **画像を開く** | メニュー →「開く...」で既存の画像ファイルを編集 | `⌘O` |

キャプチャ後は自動的にエディターウィンドウが開きます。

![メニュー](../images/menu.png)

### 範囲選択

1. `⌘⇧4`を押すと画面全体にオーバーレイが表示されます
2. マウスをドラッグして範囲を選択
3. マウスを離すとキャプチャが実行されます
4. `ESC`キーでキャンセル

前回選択した範囲は記憶されており、`⌘⇧6` のキャプチャ枠で再利用できます。

### マルチディスプレイ

複数ディスプレイ環境にも対応しています。各ディスプレイを個別にキャプチャでき、範囲選択はディスプレイをまたいで指定可能です。

---

## GIF録画

画面の指定領域をアニメーションGIFとして録画できます。

### 録画の手順

1. `⌘⇧7`を押すと範囲選択モードに入ります
2. ドラッグで録画範囲を選択すると、すぐに録画が開始されます
3. 録画範囲に赤い枠線が表示され、上部にコントロールパネルが現れます
4. コントロールパネルには経過時間と停止ボタンが表示されます
5. 停止ボタンを押すとGIFファイルが生成されます

### 録画仕様

- フレームレート：10 FPS
- 形式：アニメーションGIF（無限ループ）
- 保存先：自動保存フォルダ（設定時）またはデスクトップ

### GIFプレイヤー

録画完了後、GIFはエディターウィンドウで開かれます。ウィンドウ下部にフローティングツールバーが表示され、再生操作が可能です。

#### 操作

| 操作 | 説明 |
|------|------|
| 再生/一時停止 | 録画のプレビュー再生・停止 |
| 前フレーム | 1フレーム前に戻る |
| 次フレーム | 1フレーム進む |
| フレームスライダー | 任意のフレーム位置にシーク |
| 再生速度 | 0.5x / 1x / 2x から選択 |

- フレーム番号は「3/15」のように現在位置/総フレーム数で表示されます
- 再生速度を変更すると、各フレームの表示時間が変更されます（2xなら半分の時間で次のフレームへ）
- GIFファイルもエディターで開いてアノテーションを確認できます

> 録画コントロールウィンドウ（赤枠・停止ボタン）はGIFに写り込みません。

---

## シャッター機能

エディターウィンドウを右クリック →「シャッター」から、4種類の自動撮影モードを利用できます。シャッターパネルはエディターウィンドウの右側に表示され、ウィンドウの移動に追従します。

> シャッターを使うには、まずキャプチャ枠（`⌘⇧6`）や範囲選択でエディターウィンドウを表示しておく必要があります。

### 時限モード（遅延キャプチャ）

指定した秒数後に自動でキャプチャを実行します。右クリックメニューの撮影など、操作中のUIをキャプチャしたい場合に便利です。

1. シャッターパネルで「時限」モードを選択
2. 遅延秒数を設定（1〜30秒）
3. 「開始」をクリック
4. カウントダウン後にキャプチャが実行されます

### インターバルモード（定期撮影）

一定間隔で自動的に連続キャプチャを実行します。変化の記録や定点観測に便利です。

1. シャッターパネルで「インターバル」モードを選択
2. 撮影間隔（秒）と最大枚数を設定
3. 「開始」をクリック
4. 指定間隔でキャプチャが繰り返されます
5. 手動で停止するか、最大枚数に達すると自動停止

### 変化検知モード

画面の指定領域を監視し、変化を検知した時に自動でキャプチャします。ダイアログの出現やUI状態の変化を撮り逃さない機能です。

1. シャッターパネルで「変化検知」モードを選択
2. 検知感度を調整（0〜100%、小さいほど敏感）
3. 「開始」をクリック
4. 監視対象の画面が変化するとキャプチャが実行されます

監視では画像を100×100ピクセルにリサイズして前回との差分を計算するため、処理負荷は最小限です。

### プログラマブルモード

複数のステップを組み合わせて、自動キャプチャシーケンスを構築できます。最も柔軟なモードです。

#### ステップの種類

| ステップ | 説明 | パラメータ |
|---------|------|-----------|
| **撮影** | キャプチャを実行 | — |
| **待機** | 指定秒数待機 | 秒数 |
| **変化待ち** | 監視領域の変化を検知するまで待機 | 感度（デフォルト5%） |
| **安定待ち** | 画面が安定（変化が感度以下）になるまで待機 | 感度 |
| **繰り返し** | 子ステップを指定回数ループ | 回数（0=無限ループ）、子ステップ |

#### 操作方法

1. 「＋」ボタンでステップを追加
2. 各ステップのパラメータを設定
3. ドラッグ&ドロップでステップの順序を変更
4. 「開始」をクリックしてシーケンスを実行

#### プログラムの保存と読み込み

作成したステップ構成は名前をつけて保存できます：

- **保存**: プログラム名を入力して保存ボタンをクリック
- **読み込み**: 保存済みプログラムの一覧から選択
- **最後のステップ**: 最後に実行したステップ構成は自動的に記憶されます

#### ステップ別監視範囲の指定

変化待ち・安定待ちステップでは、監視する領域をステップごとに個別に指定できます：

1. ステップの監視領域ボタンをクリック
2. エディターウィンドウ上でドラッグして監視範囲を選択
3. 選択した範囲がステップの監視領域として設定されます
4. 設定済みの領域は枠線で表示され、選択中のステップは太い枠でハイライトされます

監視領域を指定しない場合は、キャプチャ範囲全体が監視対象になります。

---

## 開発者モード

通常、Masのウィンドウ（エディター、ツールバー、オーバーレイ等）はスクリーンキャプチャから自動的に除外されます（`NSWindow.sharingType = .none`）。開発者モードを有効にすると、追加の開発ツールにアクセスできます。

### 有効化

1. 設定 → 一般タブ →「開発者モード」をON（または `mas-cli settings set developerMode true`）
2. 設定ウィンドウに「開発」タブが新たに表示されます

### 開発タブの機能

| 機能 | 説明 |
|------|------|
| **データフォルダ** | アプリデータの保存先を確認・Finderで開く |
| **自UIをキャプチャに含める** | ONにするとMasのウィンドウもスクリーンショットに映る（`sharingType` を `.readOnly` に変更） |
| **遅延キャプチャテスト** | 1〜10秒スライダーで遅延を設定し、全画面/範囲選択キャプチャをテスト実行 |

---

## 編集ツール

エディターのフローティングツールバーから各種ツールを使えます。

| ツール | | 説明 |
|--------|:------:|------|
| 移動 | <img src="../images/tools/move.png" width="20"> | アノテーションをクリックして選択、ドラッグで移動 |
| ペン | <img src="../images/tools/pen.png" width="20"> | 自由に線を描画 |
| マーカー | <img src="../images/tools/marker.png" width="20"> | 半透明のハイライトを描画 |
| 矢印 | <img src="../images/tools/arrow.png" width="20"> | テーパー形状の矢印を描画 |
| 四角 | <img src="../images/tools/rect.png" width="20"> | 四角形を描画（枠線または半透明塗りつぶし） |
| 丸 | <img src="../images/tools/ellipse.png" width="20"> | 楕円を描画 |
| 文字 | <img src="../images/tools/text.png" width="20"> | テキストを追加 |
| ぼかし | <img src="../images/tools/mosaic.png" width="20"> | モザイク効果を適用。個人情報のマスキングに |

### 編集オプション

- **色の変更** — パレットから10色を選択（赤、橙、黄、緑、青、紫、ピンク、黒、白、グレー）
- **太さの変更** — スライダーで調整（1〜10pt）。ドラッグ中もリアルタイム反映
- **縁取り** — トグルで切り替え。3段階描画（黒い外縁 → 白い境界線 → 元の色）で、どんな背景でも見やすくなります
- **元に戻す** — Undoボタンで操作を取り消し
- **削除** — 選択中に `Delete` キーまたはツールバーの削除ボタン
- **閉じる** — ツールバー右端の × ボタンで編集モードを終了
- **ドラッグ&ドロップ** — 画像を他のアプリにそのままドロップできます
- **ピン固定** — ウィンドウを最前面に固定

各ツールの詳細は [アノテーション詳細ガイド](../annotations/) を参照してください。

### ツールグループ

ペン/マーカー、矢印/四角/丸はそれぞれグループ化されています。ボタンをクリックするとグループ内のツールを切り替えるメニューが表示されます。最後に選択したツールが記憶されるので、素速くツールを切り替えられます。

### <img src="../images/tools/trim.png" width="20"> トリミング

ツールバーから「トリミング」を選択し、ドラッグで切り出し範囲を決定。確定ボタンで画像を切り出します。

### <img src="../images/tools/ocr.png" width="20"> テキスト選択（OCR）

スクリーンショット内のテキストを認識し、文字単位で選択・コピーできます。

1. ツールバーから「テキスト選択」（虫眼鏡アイコン）を選択
2. テキスト領域が自動でハイライトされます
3. ドラッグで**文字単位**で選択
4. `⌘C` でクリップボードにコピー

対応言語：日本語 / 英語

---

## エディターウィンドウ

キャプチャ後に表示されるウィンドウです。

### ボタン構成

#### 左上

| ボタン | 説明 |
|--------|------|
| **閉じる** (×) | ウィンドウを閉じる |
| **ピン** (📌) | ウィンドウを最前面に固定/解除 |

#### 右上

| ボタン | 条件 | 説明 |
|--------|------|------|
| **パススルー** (👆) | 枠のみ表示時 | マウスイベントを背面のアプリに透過 |
| **GIF再録** (⏺) | キャプチャ範囲あり | 同じ領域でGIF録画を再実行 |
| **再キャプチャ** (📷) | キャプチャ範囲あり | 同じ範囲でスクリーンショットを再撮影 |

#### 下部

| ボタン | 説明 |
|--------|------|
| **編集モード** (✏️) | 左下。クリックで編集モードのON/OFF切替 |
| **ドラッグ** (↗) | 右下。ファイルとして他のアプリにドラッグ&ドロップ |

### 基本操作

| 操作 | 動作 |
|------|------|
| ダブルクリック | 画像を非表示にして枠のみ表示（もう一度で戻す） |
| 右クリック | コンテキストメニュー（閉じる・コピー・シャッター） |
| シャッター | 右クリックメニューから時限/インターバル/変化検知/プログラムを選択 |

### パススルーモード

エディターウィンドウをダブルクリックすると、画像が非表示になり枠のみが残ります。この状態で右上の「パススルー」ボタンをクリックすると、マウスイベントがウィンドウを透過して背面のアプリに届くようになります。キャプチャ範囲の位置をガイドとして残しつつ、背面のアプリを操作できます。

### キーボードショートカット

| ショートカット | 機能 |
|--------------|------|
| `⌘S` | 画像を保存 |
| `⌘C` | 画像をクリップボードにコピー |
| `⌘Z` | 操作を取り消し |
| `Delete` / `Backspace` | 選択中のアノテーションを削除 |

---

## ライブラリ

キャプチャ履歴を管理するウィンドウです。メニューから「ライブラリ」を選択するか、`⌘⇧L` で開きます。

![ライブラリ](../images/library.png)

- サムネイル付きでキャプチャ履歴をグリッド表示
- クリックでエディターウィンドウを開閉
- 星アイコンでお気に入り登録
- お気に入りフィルタリングで素速く検索
- `⌘` / `⇧` キーで複数選択
- 選択アイテムの一括削除
- アノテーション付きの履歴にはラベル表示

---

## メニューバー

### メニューの構成

| 項目 | ショートカット | 説明 |
|------|-------------|------|
| キャプチャ枠を表示 | `⌘⇧6` | 前回の範囲でキャプチャ枠を表示 |
| 全画面 | `⌘⇧3` | メインディスプレイ全体をキャプチャ |
| 範囲選択 | `⌘⇧4` | ドラッグで選択した範囲をキャプチャ |
| GIF録画 | `⌘⇧7` | 画面領域をGIF形式で録画 |
| ライブラリ | `⌘⇧L` | キャプチャ履歴を表示 |
| 開く... | `⌘O` | 既存の画像ファイルをエディターで開く |
| 開いているウィンドウ | — | エディターウィンドウの一覧（サムネイル・ピン切替・閉じる） |
| すべて閉じる | — | 全エディターウィンドウを一括クローズ |
| 設定... | `⌘,` | 設定ウィンドウを表示 |
| 終了 | `⌘Q` | アプリケーションを終了 |

「開いているウィンドウ」セクションでは、各ウィンドウのサムネイル、ピン状態の切り替え、サイズ情報、ファイル名が確認でき、直接閉じることもできます。

### アイコンの操作

| 操作 | 動作 |
|------|------|
| シングルクリック | メニューの表示/非表示 |
| ダブルクリック | 範囲選択キャプチャを開始 |

---

## 設定

メニューの「設定...」（`⌘,`）から設定ウィンドウを開けます。4つのタブで構成されています。

![設定](../images/settings.png)

### 一般タブ

#### キャプチャ

| 設定項目 | 説明 |
|---------|------|
| クリップボードにコピー | キャプチャ後に自動コピー |
| ファイルに保存 | キャプチャ後に自動保存 |
| 保存先 | 保存先フォルダの指定（「変更...」で選択） |
| 保存形式 | PNG / JPEG |
| JPEG品質 | 10〜100%で調整（JPEG選択時に表示） |

#### ウィンドウ

| 設定項目 | 説明 |
|---------|------|
| ピン（最前面表示） | 常にON / 最新のみON / デフォルトOFF |
| ドラッグ成功時に閉じる | ドラッグ&ドロップ成功時にウィンドウを自動で閉じる |

#### メニューバー

| 設定項目 | 説明 |
|---------|------|
| アイコン | Mas（アプリアイコン）/ モノクロ / カメラ / 枠 の4種類から選択 |

#### その他

| 設定項目 | 説明 |
|---------|------|
| マウスカーソルを含める | キャプチャにカーソルを含める |
| キャプチャ時にサウンド再生 | キャプチャ時にサウンドを再生 |
| 開発者モード | ONにすると「開発」タブが表示される |

#### アップデート

| 設定項目 | 説明 |
|---------|------|
| 自動アップデート | GitHub Releasesから最新版を自動検出・インストール |
| 今すぐ確認 | 手動で更新チェック（状態表示付き） |

自動更新が有効な場合、新バージョンが見つかると自動的にダウンロード・インストールされ、アプリの再起動を促します。

### ショートカットタブ

各アクションのキーバインドを自由にカスタマイズできます。

| 機能 | デフォルト |
|-----|-----------|
| 全画面キャプチャ | `⌘⇧3` |
| 範囲選択 | `⌘⇧4` |
| キャプチャ枠表示 | `⌘⇧6` |
| GIF録画 | `⌘⇧7` |
| ライブラリ | `⌘⇧L` |

- 変更はすぐに反映されます
- 同じキーの重複使用は自動で警告されます
- 「デフォルトに戻す」ボタンで個別リセット、「すべてデフォルトに戻す」で一括リセット

### 開発タブ（開発者モード有効時のみ）

一般タブで「開発者モード」をONにすると表示されます。

| セクション | 内容 |
|-----------|------|
| データ | アプリデータフォルダの確認・Finderで開く |
| キャプチャ | 自UIをキャプチャに含める（Masのウィンドウもスクリーンショットに映る） |
| 遅延キャプチャ | 1〜10秒の遅延後に全画面/範囲選択キャプチャ（テスト用） |

### 情報タブ

アプリ名、バージョン、説明文、コピーライトを表示します。

---

## グローバルショートカット一覧

| ショートカット | 機能 |
|--------------|------|
| `⌘⇧3` | 全画面キャプチャ |
| `⌘⇧4` | 範囲選択キャプチャ |
| `⌘⇧6` | キャプチャ枠を表示 |
| `⌘⇧7` | GIF録画 |
| `⌘⇧L` | ライブラリ |
| `⌘O` | 画像ファイルを開く |
| `⌘,` | 設定を開く |
| `⌘Q` | 終了 |

> ショートカットは設定画面からカスタマイズ可能です。

---

## 自動保存と出力

### クリップボード

キャプチャ時に自動でクリップボードにコピーされます（設定でOFF可能）。編集後も右クリック → コピーで手動コピーできます。

### ファイル保存

- **自動保存**: 設定で指定したフォルダにPNG/JPEG形式で保存
- **手動保存**: `⌘S` または右クリック → 保存でNSSavePanelから保存先を選択
- **ドラッグ&ドロップ**: エディターウィンドウの画像を直接他のアプリにドロップ

### ファイル名

自動保存時のファイル名は `Screenshot_YYYY-MM-DD_HH-mm-ss.png` の形式です。

---

**関連ドキュメント:**
- [アノテーション詳細ガイド](../annotations/) — 各描画ツールの詳細な使い方
- [CLI リファレンス](../cli/) — コマンドラインからの操作

> 上級者向け: [CLIリファレンス](../cli/) でコマンドラインからキャプチャやアノテーション、OCR、設定操作が可能です
